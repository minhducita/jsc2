<!DOCTYPE HTML>
<html>
  <head>
    <link href="../bower_components/perfect-scrollbar/min/perfect-scrollbar.min.css" rel="stylesheet">
    <!== jquery should be provided by perfect-scrollbar's bower dependencies ==>
    <script src="../bower_components/jquery/dist/jquery.min.js" ></script>
    <script src="../bower_components/angular/angular.min.js" ></script>
    <script src="../bower_components/perfect-scrollbar/min/perfect-scrollbar.with-mousewheel.min.js" ></script>
    <script src="../src/angular-perfect-scrollbar.js" ></script>
    <style>
        .scroller {
            white-space: nowrap;
            height: 200px;
            width: 100%;
            overflow-y: hidden;
            position: relative;
        }

        .wrapper {
          display: inline-block;
          padding-right: 40px;
        }

        .item {
          display: block;
        }

        .button {
          vertical-align: top;
        }
    </style>
  </head>
  <body ng-app="myApp" ng-controller="ScrollCtrl">
    <perfect-scrollbar class="scroller" wheel-propagation="true" wheel-speed="50" refresh-on-change="someArray" on-scroll="onScroll(scrollLeft, scrollWidth)">
      <button class="button" ng-click="addItem()">Add</button>
      <button class="button" ng-click="removeItem()">Remove</button>
      <div ng-repeat="times in someArray" class="wrapper">
        {{times}}.

        <span class='item'>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </span>

        <span class='item'>Vestibulum eleifend lectus et nunc congue gravida. </span>

        <span class='item'>Phasellus et iaculis risus, ut scelerisque dolor. </span>

        <span class='item'>Sed diam diam, tempor et feugiat a, pharetra sed nulla. </span>

        <span class='item'>Duis non lacinia odio, vitae ultricies dui. </span>

        <span class='item'>Ut sit amet dui quis lectus cursus laoreet et in magna. </span>

        <span class='item'>Nulla rutrum nisi urna, sit amet faucibus felis placerat ac. </span>

        <span class='item'>Cras commodo aliquam purus, eget gravida magna lacinia non. </span>

        <span class='item'>Sed facilisis, eros iaculis rhoncus adipiscing, dolor augue fermentum risus, vel vulputate massa metus ac erat. </span>
      </div>
    </perfect-scrollbar>
    <p>scrollLeft:{{scrollLeft}}, scrollWidth:{{scrollWidth}}</p>
    <script>
      var app = angular.module('myApp', ['perfect_scrollbar']);

        var ScrollCtrl = function($scope) {
          $scope.someArray = [1, 2, 3];

          $scope.addItem = function() {
              var arrayLength = $scope.someArray.length;
              var nextValue = arrayLength > 0 ? $scope.someArray[arrayLength - 1] + 1 : 1;
              $scope.someArray.push(nextValue);
          };

          $scope.removeItem = function() {
              if ($scope.someArray.length) { $scope.someArray.pop(); }
          }

          $scope.scrollLeft = 0
          $scope.scrollWidth = 0
          $scope.onScroll = function (scrollLeft, scrollWidth) {
              $scope.scrollLeft = scrollLeft
              $scope.scrollWidth = scrollWidth
          }
        };
    </script>
  </body>
</html>
